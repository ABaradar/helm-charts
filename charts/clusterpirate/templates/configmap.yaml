apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "clusterpirate.fullname" . }}
  namespace: {{ .Release.Namespace }}
  {{- if .Values.commonAnnotations }}
  annotations:
{{- include "clusterpirate.annotations" . | indent 4 }}
  {{- end }}
  {{- if .Values.commonLabels }}
  labels:
{{- include "clusterpirate.labels" . | indent 4 }}
  {{- end }}
data:
  logLevel: {{ .Values.clusterPirate.logLevel | quote }}
  healthPort: {{ .Values.clusterPirate.healthPort | quote }}
  metricsEnabled: {{ .Values.clusterPirate.metrics.enabled | quote }}
  metricsUpdateIntervalSeconds: {{ .Values.clusterPirate.metrics.updateIntervalSeconds | quote }}
  valkeyHost: {{ .Values.clusterPirate.metrics.cache.host | default (printf "%s-valkey" (include "clusterpirate.fullname" .)) | quote }}
  valkeyPort: {{ .Values.clusterPirate.metrics.cache.port | quote }}
  valkeyTtl: {{ .Values.clusterPirate.metrics.cache.ttl | quote }}
  monitoringResourceEventsEnabled: {{ .Values.clusterPirate.monitoring.resourceEventsEnabled | quote }}
  monitoringSystemEventsEnabled: {{ .Values.clusterPirate.monitoring.systemEventsEnabled | quote }}
  cloudpiratesApiRegisterEndpoint: {{ .Values.cloudpiratesApi.registerEndpoint | quote }}