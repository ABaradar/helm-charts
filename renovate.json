{
  "extends": [
    "config:recommended",
    "docker:enableMajor",
    ":dependencyDashboard"
  ],
  "schedule": [
    "before 6am on monday"
  ],
  "timezone": "Europe/Berlin",
  "labels": ["dependencies"],
  "branchPrefix": "renovate/",
  "prHourlyLimit": 10,
  "prConcurrentLimit": 5,
  "pinDigests": false,
  "customManagers": [
    {
      "customType": "regex",
      "fileMatch": ["^charts/.+/values\\.ya?ml$"],
      "matchStrings": [
        "(?m)^\\s*repository:\\s*[\"']?(?<depName>[^\\s\"'\\n]+)[\"']?\\s*$[\\s\\S]*?^\\s*tag:\\s*[\"']?(?<currentValue>[^\\s\"'\\n]+)[\"']?\\s*$(?:[\\s\\S]*?^\\s*digest:\\s*[\"']?(?<currentDigest>sha256:[a-f0-9]+)[\"']?\\s*$)?",
        "(?m)^\\s*registry:\\s*[\"']?(?<registry>[^\\s\"'\\n]+)[\"']?\\s*$[\\s\\S]*?^\\s*repository:\\s*[\"']?(?<packageName>[^\\s\"'\\n]+)[\"']?\\s*$[\\s\\S]*?^\\s*tag:\\s*[\"']?(?<currentValue>[^\\s\"'\\n]+)[\"']?\\s*$(?:[\\s\\S]*?^\\s*digest:\\s*[\"']?(?<currentDigest>sha256:[a-f0-9]+)[\"']?\\s*$)?"
      ],
      "datasourceTemplate": "docker",
      "versioningTemplate": "docker",
      "depNameTemplate": "{{#if registry}}{{registry}}/{{packageName}}{{else}}{{depName}}{{/if}}"
    }
  ],
  "packageRules": [
    {
      "description": "MariaDB chart Docker image updates",
      "matchFileNames": [
        "charts/mariadb/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[MARIADB] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "mariadb-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "MinIO chart Docker image updates",
      "matchFileNames": [
        "charts/minio/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[MINIO] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "minio-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "MongoDB chart Docker image updates",
      "matchFileNames": [
        "charts/mongodb/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[MONGODB] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "mongodb-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "PostgreSQL chart Docker image updates",
      "matchFileNames": [
        "charts/postgres/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[POSTGRES] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "postgres-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "Redis chart Docker image updates",
      "matchFileNames": [
        "charts/redis/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[REDIS] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "redis-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "Valkey chart Docker image updates",
      "matchFileNames": [
        "charts/valkey/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[VALKEY] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "valkey-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    },
    {
      "description": "ClusterPirate chart Docker image updates",
      "matchFileNames": [
        "charts/clusterpirate/values.yaml"
      ],
      "matchManagers": ["regex"],
      "automerge": false,
      "commitMessagePrefix": "",
      "commitMessage": "[CLUSTERPIRATE] Update {{depName}} to {{newValue}}{{#if isMajor}} (major){{/if}}",
      "branchTopic": "clusterpirate-{{depNameSanitized}}-{{newMajor}}.x{{#if isPatch}}.{{newMinor}}{{/if}}"
    }
  ],
  "hostRules": [
    {
      "matchHost": "harbor.cloudpirates.io",
      "description": "Private Harbor registry configuration"
    }
  ]
}